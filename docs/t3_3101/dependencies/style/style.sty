% general colors
\definecolor{dmTECHcolor}{RGB}{75,55,140}
\definecolor{dmColor1}{RGB}{31,54,133}
\definecolor{dmColor2}{RGB}{254,199,0}
\definecolor{dmColor3}{RGB}{227,6,19}
\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}

% UML colors
\renewcommand{\umltextcolor}{black}
\renewcommand{\umlfillcolor}{backcolour}
\renewcommand{\umldrawcolor}{black}

% reference styles
\crefformat{part}          {(Teil #2#1#3)}               % part
\crefformat{chapter}       {(Kapitel #2#1#3)}            % chap
\crefformat{section}       {(Abschnitt #2#1#3)}          % sec
\crefformat{subsection}    {(Unterabschnitt #2#1#3)}     % subsec
\crefformat{subsubsection}{(Unterunterabschnitt #2#1#3)} % subsubsec
\crefformat{paragraph}     {(Absatz #2#1#3)}             % para
\crefformat{subparagraph}  {(Unterabsatz #2#1#3)}        % subpara
\crefformat{figure}        {(Abbildung #2#1#3)}          % fig
\crefformat{table}         {(Tabelle #2#1#3)}            % tab
\crefformat{equation}      {(Gleichung #2#1#3)}          % eq
\crefformat{theorem}       {(Satz #2#1#3)}               % thm
\crefformat{lemma}         {(Lemma #2#1#3)}              % lem
\crefformat{corollary}     {(Korollar #2#1#3)}           % cor
\crefformat{proposition}   {(Proposition #2#1#3)}        % prop
\crefformat{definition}    {(Definition #2#1#3)}         % def
\crefformat{example}       {(Beispiel #2#1#3)}           % ex
\crefformat{appendix}      {(Anhang #2#1#3)}             % app
\crefformat{footnote}      {(Fußnote #2#1#3)}            % fn
\crefformat{page}          {(Seite #2#1#3)}              % page
\crefformat{algorithm}     {(Algorithmus #2#1#3)}        % alg
\crefformat{remark}        {(Bemerkung #2#1#3)}          % rem
\crefformat{conjecture}    {(Vermutung #2#1#3)}          % conj
\crefformat{proof}         {(Beweis #2#1#3)}             % proof
\crefformat{exercise}      {(Übung #2#1#3)}              % exer
\crefformat{property}      {(Eigenschaft #2#1#3)}        % prop
\crefformat{note}          {(Notiz #2#1#3)}              % note
\crefformat{listing}       {(Quellcode #2#1#3)}         % listing

% page layout
\pagestyle{fancy} % set the page style to fancy
\rhead{\Autor}    % set the right header to the author
\cfoot{\thepage}  % set the center footer to the page number

% code styles
\lstdefinestyle{globalStyle}{
  backgroundcolor=\color{backcolour},
  commentstyle=\color{codegray},
  keywordstyle=\color{codepurple},
  numberstyle=\tiny\color{codegray},
  stringstyle=\color{codegreen},
  basicstyle=\ttfamily\footnotesize,
  breakatwhitespace=false,
  breaklines=true,
  captionpos=b,
  frame=single,
  keepspaces=true,
  numbers=left,
  numbersep=5pt,
  showspaces=false,
  showstringspaces=false,
  showtabs=false,
  tabsize=2
}

\lstdefinestyle{pythonStyle}{
  style=globalStyle,
  language=Python,
}

\lstdefinestyle{sqlStyle}{
  style=globalStyle,
  language=SQL,
}

\lstdefinestyle{javaStyle}{
  style=globalStyle,
  language=Java,
}

\lstdefinestyle{htmlStyle}{
  style=globalStyle,
  language=HTML,
}

\lstdefinestyle{xmlStyle}{
  style=globalStyle,
  language=XML,
}

\lstdefinestyle{otherStyle}{
  style=globalStyle
}

\lstset{style=globalStyle}

% fix for ac-bug: https://tex.stackexchange.com/questions/735500/problem-with-amsmath-cleveref-acronym
\makeatletter
\AtBeginDocument
 {
   \def\ltx@label#1{\cref@label{#1}}%add braces
   \def\label@in@display@noarg#1{\cref@old@label@in@display{#1}}%remove braces
\def\label@in@mmeasure@noarg#1{%
    \begingroup%
      \measuring@false%
      \cref@old@label@in@display{#1}%remove braces for multline, see https://tex.stackexchange.com/q/737204/2388
    \endgroup}%
 } %
\makeatother

% Biblatex Konfiguration
% URL Formatierung anpassen
\DeclareFieldFormat{url}{\addspace Verfügbar unter: \url{#1}}
\DeclareNameAlias{author}{family-given}

% Titel Formatierung für Online-Einträge anpassen
\DeclareFieldFormat{title}{%
  \ifboolexpr{ test {\ifentrytype{online}} }
    {#1\addspace [online]} % Wenn es ein Online-Eintrag ist
    {#1} % Andernfalls nur den Titel
}

% Formatierung für urldate anpassen (ohne Klammern)
\DeclareFieldFormat{urldate}{[abgerufen am #1]}

\setlength{\headheight}{15pt}

% "et al." statt "u. a." für mehrere Autoren in BibLaTeX
\DefineBibliographyStrings{german}{
  andothers = {et\addabbrvspace al\adddot}
}